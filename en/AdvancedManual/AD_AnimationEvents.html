<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <!-- 제목 -->
        <title>Animation Events and Script</title>
        <!-- 파비콘 -->
        <link rel="shortcut icon" href="../../Images/favicon.ico"/>
        <!-- 부트스트랩 -->
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <!--------------->

    </head>

    <body>
        <p>
            <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <!--로고 : AnyPortrait 홈페이지로 가야한다. (언어별)-->
            <a class="navbar-brand" href="https://rainyrizzle.com/en/anyportrait-en/">
                <img src="../../Images/AP_Logo.png" width="150" height="30" class="d-inline-block align-top" alt="">
            </a>

            <!--메뉴들 : 현재 페이지의 카테고리에 active 붙인다. (언어별 링크) -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarText">
                <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="../../en/GettingStarted.html">Getting Started</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../en/AdManual.html">Manual</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../../en/Script.html">Script</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://rainyrizzle.com/en/ap-video-tutorials-en/">Video</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://rainyrizzle.com/en/forum-en/">Forum</a>
                </li>

                </ul>

                <!-- 언어 변경. 현재 페이지의 주소에서 언어 주소만 변경한다. (해당 언어에 active) -->
                <div class="btn-group mr-2" role="group" aria-label="Basic example">
                    <a role="button" class="btn btn-secondary active" href="../../en/AdvancedManual/AD_AnimationEvents.html">EN</a>
                    <a role="button" class="btn btn-secondary" href="../../kr/AdvancedManual/AD_AnimationEvents.html">KR</a>
                    <a role="button" class="btn btn-secondary" href="../../jp/AdvancedManual/AD_AnimationEvents.html">JP</a>
                </div>

                <!-- 여백 -->
                <p></p>

                <!-- 검색버튼 -->
                <form class="form-inline">
                    <a class="btn btn-light" role="button" href="../../en/Search.html">Search</a>
                </form>
            </div>
        </nav>
    </p>

    <!-- 실제 바디 부분 -->
    <div class="container">
    <br>
    <br>
    <!-- 여기에 내용을 적어주세요 -->

    <!-- 여기서부터 페이지 내용이 작성됩니다. -->
    <!-- 1. 페이지 진입 경로 -->
    <p><a href="https://rainyrizzle.com/en/anyportrait-en/"><span class="text-dark">AnyPortrait</span></a> > <a href="../../en/AdManual.html"><span class="text-dark">Manual</span></a> > Animation Events and Script</p>
    
    <!-- 2. 페이지 메인 타이틀 -->
    <h1 class="display-5">Animation Events and Script</h1>
    <br>
    
    <!-- 4. 버전 설명 -->
    <h4><span class="badge badge-secondary">1.4.5</span></h4>
    
    <p>
    Depending on the game, at some point in the animation, the character needs some interaction.<br>
    When a running character makes a jump, it may get dirty or a swinging sword may hit a monster.<br>
    In this page, you will learn how to use the animation event function to interact with the script.<br>
    (C # script included.)<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_122.jpg"/>
    <br>
    
    <p>
    In the Animation Properties UI, <strong>click the Animation Events button</strong> to open a dialog that registers an animation event.<br>
    </p>
    <br>
    
    <!-- 12. 참고 박스 시작 -->
    <div class="alert alert-info" role="alert">
    
    <p>
    You can see the description of the animation event dialog changed in AnyPortrait v1.4.0 at the bottom of the page.<br>
    </p>
    <br>
    
    </div>
    <br>
    <br>
    
    <br>
    <br>
    <!-- 3. 서브 타이틀 -->
    <h3>Adding an Animation Event and associating them with a Script</h3>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_123.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> <strong>Click the Add Event button</strong> to add a new event.<br>
    <strong>(2)</strong> <strong>Set the name</strong> of the event and <strong>enter the frame</strong> to be called.<br>
    The name of the event is linked with the script, so remember the name at that time.<br>
    I created it here as <span class="text-danger"><strong>SampleAnimEvent</strong></span>.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_124.jpg"/>
    <br>
    
    <p>
    When an animation event is added, you can see that <strong>an event marker</strong> has been added to that location in the timeline GUI.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_125.jpg"/>
    <br>
    
    <p>
    Bake and go to the scene.<br>
    Create a script to be associated with the event.<br>
    <strong>(1)</strong> <strong>Create a GameObject to contain the script</strong>. (It does not have to be a new one; it can be anything GameObject that contains the script.)<br>
    <strong>(2)</strong> <strong>Create and add a MonoBehaviour script</strong>.<br>
    </p>
    <br>
    
    <p>
    Write the following code:<br>
    Remember that the animation event you created above is named <span class="text-danger"><strong>SampleAnimEvent</strong></span>.<br>
    </p>
    <br>
    
    <!-- 23. 코드 예시 -->
    <div class="alert alert-warning" role="alert">
    <p>
    <br>
    <span class="text-primary">using </span>UnityEngine;<br>
    <span class="text-primary">public class </span><span class="text-success">AnimEventListener</span> : <span class="text-success">MonoBehaviour</span><br>
    {<br>
    &emsp;&emsp;<span class="text-primary">void</span> Start() { }<br>
    &emsp;&emsp;<span class="text-primary">void</span> SampleAnimEvent()<br>
    &emsp;&emsp;{<br>
    &emsp;&emsp;&emsp;&emsp;<span class="text-success">Debug</span>.Log(<span class="text-danger">"Sample Anim Event"</span>);<br>
    &emsp;&emsp;}<br>
    }<br>
    <br>
    </p>
    <button id="scriptcopybutton0" class="btn btn-info float-right">Copy to Clipboard</button>
    <br><br>
    
    </div>
    <br>
    
    <p>
    As you can see in the code above, we call a function with the same name as the created animation event.<br>
    Therefore, animation events and scripts must have the same name and the same arguments.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_126.jpg"/>
    <br>
    
    <p>
    When you select a character, the <strong>apPortrait properties</strong> are displayed in the Inspector.<br>
    To allow the script to receive events, set <strong>the GameObject that contains the script</strong> you just created into the <strong>Event Listener</strong>.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_128.jpg"/>
    <br>
    
    <p>
    When you run the game, an event occurs, and you can see in the console window that the script takes it and prints the log.<br>
    </p>
    <br>
    
    <br>
    <br>
    <!-- 3. 서브 타이틀 -->
    <h3>Adding a Parameter to an animation event</h3>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_127.jpg"/>
    <br>
    
    <p>
    You can add a parameter to an animation event.<br>
    At this time, the parameter is called as an argument of the function.<br>
    <strong>(1)</strong> <strong>Press the Add Parameter button</strong> to add the parameter.<br>
    <strong>(2)</strong> <strong>Select the parameter type</strong> and <strong>(3)</strong> <strong>enter the value</strong> to be transferred.<br>
    (The types that can be passed as parameters are Bool, Int, Float, Vector2, String.)<br>
    </p>
    <br>
    
    <!-- 23. 코드 예시 -->
    <div class="alert alert-warning" role="alert">
    <p>
    <br>
    <span class="text-primary">using </span>UnityEngine;<br>
    <span class="text-primary">public class </span><span class="text-success">AnimEventListener</span> : <span class="text-success">MonoBehaviour</span><br>
    {<br>
    &emsp;&emsp;<span class="text-primary">void</span> Start() { }<br>
    &emsp;&emsp;<span class="text-primary">void</span> SampleAnimEvent(<span class="text-primary">float</span> floatValue)<br>
    &emsp;&emsp;{<br>
    &emsp;&emsp;&emsp;&emsp;<span class="text-success">Debug</span>.Log(<span class="text-danger">"Sample Anim Event - " </span>+ floatValue);<br>
    &emsp;&emsp;}<br>
    }<br>
    <br>
    </p>
    <button id="scriptcopybutton1" class="btn btn-info float-right">Copy to Clipboard</button>
    <br><br>
    
    </div>
    <br>
    
    <p>
    Modify the function to receive the parameters.<br>
    Declare a parameter for the variable type.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_129.jpg"/>
    <br>
    
    <p>
    When you run the game, you can see that the value of the parameter is passed.<br>
    </p>
    <br>
    
    <br>
    <br>
    <!-- 3. 서브 타이틀 -->
    <h3>Making Animation Events call continuously on multiple frames</h3>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_130.jpg"/>
    <br>
    
    <p>
    Sometimes you need to fire an event continuously over a certain frame instead of raising an event in one frame.<br>
    <strong>(1)</strong> <strong>Change the Call Method</strong> from Once to <strong>Continuous</strong>.<br>
    <strong>(2)</strong> <strong>Set Start Frame</strong> and <strong>End Frame</strong> respectively.<br>
    <strong>(3)</strong> <strong>Two parameter values</strong> can be specified.<br>
    Each value is called by the Start Frame and the End Frame. In between, the value interpolated linearly is passed to the script.<br>
    (String type is not interpolated, so this function is not supported.)<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_131.jpg"/>
    <br>
    
    <p>
    Continuous type animation events are represented by markers of different colors. The starting point is blue and the ending point is green.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_132.jpg"/>
    <br>
    
    <p>
    If you run the game after bake, you will see that the interpolated value is called every frame.<br>
    </p>
    <br>
    
    <br>
    <br>
    <!-- 3. 서브 타이틀 -->
    <h3>Create an animation event with two or more parameters</h3>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_133.jpg"/>
    <br>
    
    <p>
    You can also create animation events with multiple parameters.<br>
    Each parameter can have a different type.<br>
    The above screen is a screen with three parameters, <strong>Integer, Float</strong>, and <strong>Vector2</strong> respectively.<br>
    (I create a new animation event, named <strong>MultipleParamAnimEvent</strong>.)<br>
    </p>
    <br>
    
    <!-- 23. 코드 예시 -->
    <div class="alert alert-warning" role="alert">
    <p>
    <br>
    <span class="text-primary">using </span>UnityEngine;<br>
    <span class="text-primary">public class </span><span class="text-success">AnimEventListener</span> : <span class="text-success">MonoBehaviour</span><br>
    {<br>
    &emsp;&emsp;<span class="text-primary">void </span>Start() { }<br>
    &emsp;&emsp;<span class="text-primary">void </span>MultipleParamAnimEvent(<span class="text-primary">object</span>&#91;&#93; multipleParams)<br>
    &emsp;&emsp;{<br>
    &emsp;&emsp;&emsp;&emsp;<span class="text-primary">int </span>intParam = (<span class="text-primary">int</span>)multipleParams&#91;0&#93;;<br>
    &emsp;&emsp;&emsp;&emsp;<span class="text-primary">float </span>floatParam = (<span class="text-primary">float</span>)multipleParams&#91;1&#93;;<br>
    &emsp;&emsp;&emsp;&emsp;<span class="text-success">Vector2 </span>vector2Param = (<span class="text-success">Vector2</span>)multipleParams&#91;2&#93;;<br>
    &emsp;&emsp;&emsp;&emsp;<span class="text-success">Debug</span>.Log(<span class="text-danger">"Multiple Param Anim Event"</span>);<br>
    &emsp;&emsp;&emsp;&emsp;<span class="text-success">Debug</span>.Log(<span class="text-danger">"Param 1 : "</span> + intParam);<br>
    &emsp;&emsp;&emsp;&emsp;<span class="text-success">Debug</span>.Log(<span class="text-danger">"Param 2 : "</span> + floatParam);<br>
    &emsp;&emsp;&emsp;&emsp;<span class="text-success">Debug</span>.Log(<span class="text-danger">"Param 3 : "</span> + vector2Param);<br>
    &emsp;&emsp;}<br>
    }<br>
    <br>
    </p>
    <button id="scriptcopybutton2" class="btn btn-info float-right">Copy to Clipboard</button>
    <br><br>
    
    </div>
    <br>
    
    <p>
    Only one argument of the <strong>object array type</strong> is used as a function parameter, not three arguments.<br>
    This array contains the parameters in the order you defined them in the editor.<br>
    Variables can be referenced via type casting.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_134.jpg"/>
    <br>
    
    <p>
    When you run the game, you will see that three parameters are passed to the script.<br>
    </p>
    <br>
    
    <br>
    <br>
    <!-- 3. 서브 타이틀 -->
    <h3>Animated Events in the improved Inspector</h3>
    <br>
    
    <!-- 4. 버전 설명 -->
    <h4><span class="badge badge-secondary">1.3.4</span></h4>
    
    <p>
    Through the inspector (<a href="../../en/AdvancedManual/AD_InspectorUI.html">Related page</a>) updated in AnyPortrait v1.3.4, you can quickly check animation events.<br>
    It is also possible to copy animation events into a script, or change the method they are called.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1324.jpg"/>
    <br>
    
    <p>
    When you select a character with an animated event in the Unity scene, a screen like the one above will appear in the inspector.<br>
    <strong>(1)</strong> The animation call method can be selected from <strong>Send Message</strong> and <strong>Callback</strong>. The method used is <strong>Send Message</strong>.<br>
    <strong>(2)</strong> A listener object to receive and process animation events. (The location of this item that existed at the top of the existing Inspector has been changed.)<br>
    <strong>(3)</strong> Animation event list. You can check the event name and parameters.<br>
    <strong>(4)</strong> Copy the animation event to the clipboard. The copied form is processed so that it can be pasted into a C# script.<br>
    <strong>(5)</strong> Copy all animation events to the clipboard.<br>
    </p>
    <br>
    
    <p>
    Let's use the added function "Copy animation events to clipboard".<br>
    First, press the copy button in <strong>(4)</strong> or <strong>(5)</strong>.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1325.jpg"/>
    <br>
    
    <p>
    If you open the script editor and paste it, the code that matches the names and formats of the animation events is added as shown above.<br>
    You will now be able to avoid the unnecessary effort of memorizing and writing animation events.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1326.jpg"/>
    <br>
    
    <p>
    Another feature added in v1.3.4 is the <strong>Callback</strong> method.<br>
    If the existing <strong>Send Message</strong> uses <strong>Unity Send Message</strong>, this is similar to <strong>Unity Event</strong>, which specifies a function directly.<br>
    It not only improves performance, but also has the advantage of not having to set the same name of the function to receive the event.<br>
    (We didn't actually use Unity Event, but we developed it almost similarly so that users can use it like Unity Event.)<br>
    <strong>(1)</strong> Let's change <strong>Event Method</strong> to <strong>Callback</strong>.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1327.jpg"/>
    <br>
    
    <p>
    The original <strong>Event Listener</strong> disappears, and the UI is changed to be able to assign the call targets for each event.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1328.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> Press the <strong>+</strong> button.<br>
    <strong>(2)</strong> An item that can set event listeners and callback functions is added.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1329.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> Allocate a Monobehaviour object that will receive events from the scene.<br>
    <strong>(2)</strong> If you click the blank on the right, a list of functions that can receive events appears. Choose the appropriate function.<br>
    If more than one Monobehaviour component is added to one GameObject, the listener can be replaced through the function list.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1330.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> In the same way, you can set one event to be received by multiple listeners or multiple functions at the same time.<br>
    <strong>(2)</strong> To delete an item, press the <strong>-</strong> button.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1331.jpg"/>
    <br>
    
    <p>
    When designating a callback function, if there is no function that matches the event type (number, type, order of parameters), nothing appears in the list as above.<br>
    </p>
    <br>
    
    <p>
    Either way, you can make your script receive animation events and run.<br>
    Try the method that works for you!<br>
    </p>
    <br>
    
    <br>
    <br>
    <!-- 3. 서브 타이틀 -->
    <h3>Improved Animation Event Markers</h3>
    <br>
    
    <!-- 4. 버전 설명 -->
    <h4><span class="badge badge-secondary">1.4.0</span></h4>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1751.jpg"/>
    <br>
    
    <p>
    An option to set the color of event markers has been added to easily distinguish events on the timeline.<br>
    <strong>(1)</strong> Select an animation event.<br>
    <strong>(2)</strong> Let's change the value of <strong>Marker Color</strong>.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1752.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> You can see that the color of the animation event marker icon has changed in the timeline UI.<br>
    <strong>(2)</strong> You can see which color has been set in the event list.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1759.jpg"/>
    <br>
    
    <p>
    In addition, the marker of the <strong>Continuous</strong> type event has been improved to appear more intuitively in the timeline UI.<br>
    </p>
    <br>
    
    <br>
    <br>
    <!-- 3. 서브 타이틀 -->
    <h3>Animation Event Presets</h3>
    <br>
    
    <!-- 4. 버전 설명 -->
    <h4><span class="badge badge-secondary">1.4.0</span></h4>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1750.jpg"/>
    <br>
    
    <p>
    When an animation event with the same name is called in multiple animations, it would be handy to have the ability to save it for reuse.<br>
    AnyPortrait v1.4.0 has added the ability to save animation events as presets and utilize them.<br>
    <strong>(1)</strong> The left side of the animation event dialog shows the current animation event list and the properties of the selected event as before.<br>
    <strong>(2)</strong> The newly added <strong>Animation Event Presets</strong> appear on the right side of the dialog box.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1753.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> Select the animation event you want to save.<br>
    <strong>(2)</strong> Press the <strong>Save as Preset</strong> button.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1754.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> The selected event has been added to the animation event preset list.<br>
    <strong>(2)</strong> When you select a preset, the properties of the preset are displayed.<br>
    <strong>(3)</strong> If you want to delete the selected preset, click the <strong>Remove Event Preset</strong> button.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1755.jpg"/>
    <br>
    
    <p>
    This feature can be used for the same animation as well as other animations.<br>
    Let's add an event to another animation using the saved preset.<br>
    <strong>(1)</strong> Select another animation.<br>
    <strong>(2)</strong> Move the time slider to the position where you want to add the event.<br>
    <strong>(3)</strong> Click the <strong>Animation Events</strong> button.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1756.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> Click the <strong>Add Event</strong> button.<br>
    <strong>(2)</strong> Select the added event.<br>
    <strong>(3)</strong> Select the preset you want to apply.<br>
    <strong>(4)</strong> Press the <strong>Apply Selected Preset</strong> button.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1757.jpg"/>
    <br>
    
    <p>
    <strong>(5)</strong> Check the message and click the <strong>Apply</strong> button.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1758.jpg"/>
    <br>
    
    <p>
    You can see that the animation event information saved as a preset is copied and applied.<br>
    </p>
    <br>
    
    <!-- 12. 참고 박스 시작 -->
    <div class="alert alert-info" role="alert">
    
    <!-- 3. 서브 타이틀(참고 박스) -->
    <h4>Add an event by preset in the current frame directly</h4>
    <br>
    
    <!-- 4. 버전 설명 -->
    <h4><span class="badge badge-secondary">1.4.5</span></h4>
    
    <p>
    You can shorten the steps of creating events and applying presets.<br>
    Let's select a frame and create an event with a preset applied at once.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1846.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> Move the time slider to the location where the event will be created.<br>
    <strong>(2)</strong> Select a preset.<br>
    <strong>(3)</strong> Pressing the <strong>Add Event by Preset</strong> button creates an event with the preset applied to the frame.<br>
    </p>
    <br>
    
    </div>
    <br>
    <br>
    
    <!-- 12. 참고 박스 시작 -->
    <div class="alert alert-info" role="alert">
    
    <!-- 3. 서브 타이틀(참고 박스) -->
    <h4>Assign a category of presets</h4>
    <br>
    
    <!-- 4. 버전 설명 -->
    <h4><span class="badge badge-secondary">1.4.5</span></h4>
    
    <p>
    When there are too many event presets, it becomes difficult to find the preset you need each time from the list.<br>
    In this case, using "<strong>Category</strong>", presets with similar purposes can be grouped and managed.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1847.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> Select a preset.<br>
    <strong>(2)</strong> Let's change the <strong>Category</strong> property.<br>
    Currently, there is no registered category, so select "<strong>+ New Category..</strong>" to register a new category.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1848.jpg"/>
    <br>
    
    <p>
    Set the name of the new category.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1849.jpg"/>
    <br>
    
    <p>
    Let's apply the created categories to other presets.<br>
    <strong>(1)</strong> Select another preset.<br>
    <strong>(2)</strong> Select the <strong>Category</strong> property and you will see that the category you just created has been added.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1850.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> You can change the category at the top of the preset list.<br>
    If you select a category other than <strong>Everything</strong>, only the presets of that category are displayed in the list.<br>
    </p>
    <br>
    
    <p>
    If there are no presets with a specific category, the category is automatically deleted.<br>
    </p>
    <br>
    
    </div>
    <br>
    <br>
    
    <br>
    <br>
    <!-- 3. 서브 타이틀 -->
    <h3>Fix invalid event names</h3>
    <br>
    
    <!-- 4. 버전 설명 -->
    <h4><span class="badge badge-secondary">1.4.1</span></h4>
    
    <p>
    Animation events will be called from scripts, so they should be named according to scripting conventions where possible.<br>
    - The name must be a combination of <strong>Alphabets, numbers, and underscore ("_")</strong>, and spaces are not allowed.<br>
    - <strong>Blank Name</strong> is not allowed.<br>
    - "<strong>Overloading</strong>" is not allowed when the call method is "<strong>Send Message</strong>". That is, there must not be more than one event with the same name with different parameter combinations.<br>
    </p>
    <br>
    
    <p>
    If the name of the event is invalid, you can use a function that automatically corrects the name.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1796.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> The name of the above animation event is "Sample Event Name (!)". By convention, this name is invalid because it contains special characters and spaces.<br>
    <strong>(2)</strong> A message appears explaining why the name of the event is invalid.<br>
    <strong>(3)</strong> If you click the <strong>Fix now</strong> button, the name is automatically corrected. (However, if there is no valid character, it will not be modified.)<br>
    </p>
    <br>
    
    <br>
    <br>
    <!-- 3. 서브 타이틀 -->
    <h3>Assign the event listener easily in Callback</h3>
    <br>
    
    <!-- 4. 버전 설명 -->
    <h4><span class="badge badge-secondary">1.4.1</span></h4>
    
    <p>
    The advantage of calling animation events in the <strong>Callback</strong> method is that you can set up multiple event listeners.<br>
    However, it is cumbersome to assign each event listener for every event.<br>
    Let's use a feature that makes this easy.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1797.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> A character created with AnyPortrait and a GameObject that will act as <strong>Event Listener</strong> are placed in the scene.<br>
    <strong>(2)</strong> The event call method is set to "<strong>Callback</strong>".<br>
    <strong>(3)</strong> Assign <strong>GameObject</strong> as <strong>Event Listener</strong> to <strong>Target</strong> of "<strong>Assign Listener to All Events</strong>".<br>
    <strong>(4)</strong> Press the <strong>Assign</strong> button.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1798.jpg"/>
    <br>
    
    <p>
    As shown above, you can see that an event listener is commonly assigned to all events.<br>
    Now all we need to do is set functions for the event.<br>
    </p>
    <br>
    
    <br>
    <br>
    <!-- 3. 서브 타이틀 -->
    <h3>Validate callback functions</h3>
    <br>
    
    <!-- 4. 버전 설명 -->
    <h4><span class="badge badge-secondary">1.4.1</span></h4>
    
    <p>
    When assigning a function to be called by an event in "Callback" method, the function cannot be called in the following cases.<br>
    - When the event listener does not exist<br>
    - When the function with the saved name is not in the event listener<br>
    - When a function with a saved name is an "Overloading" function<br>
    </p>
    <br>
    
    <p>
    Fortunately, invalid callback functions do not cause fatal errors during the game.<br>
    However, you won't be able to test that the set events are valid by running the game every time.<br>
    Let's use the function to automatically delete invalid events.<br>
    </p>
    <br>
    
    <p>
    Let's assume the event listener has the following callback function defined:<br>
    </p>
    <br>
    
    <!-- 23. 코드 예시 -->
    <div class="alert alert-warning" role="alert">
    <p>
    <br>
    private void <strong>OnAnimEvent_A</strong> () { Debug.Log("Event A"); }<br>
    <br>
    private void <strong>OnAnimEvent_A</strong> ( <span class="text-danger"><strong>float floatValue</strong></span> ) { Debug.Log("Event A (Overloaded)"); }<br>
    <br>
    </p>
    <button id="scriptcopybutton3" class="btn btn-info float-right">Copy to Clipboard</button>
    <br><br>
    
    </div>
    <br>
    
    <p>
    Two functions are "Overloading" with the same name but different parameters.<br>
    According to the callback rules, these functions are invalid.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1799.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> Event listeners and functions including the above code are set. An invalid function ("OnAnimEvent_A") is also set, but hard to verify whether it is valid.<br>
    <strong>(2)</strong> Click the <strong>Validate Events</strong> button.<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1800.jpg"/>
    <br>
    
    <p>
    When validation is performed, invalid functions are automatically deleted as above.<br>
    </p>
    <br>
    
    <!-- 5. 바닥 네비바 -->
    <br>
    <br>
    <br>
    <br>
    <nav class="navbar fixed-bottom navbar-light bg-light">
        <a class="btn btn-light" role="button" href="../../en/AdvancedManual/AD_ExportImportAnimation.html">< Export / Import Animation</a>
        <a class="btn btn-light" role="button" href="../../en/AdvancedManual/AD_CopyBonePose.html">Copy / Paste pose of bones ></a>
    </nav>
    
    <!-- 페이지 내용 끝! -->

    
    <!-- 종료 -->
    </div>

    <!-- 부트스트랩 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="../../js/bootstrap.js"></script>
    <!--------------->

    <!-- 클립보드 스크립트 -->
    <script>
    document.getElementById("scriptcopybutton0").addEventListener("click", function() {
    const textToCopy = "using UnityEngine;\npublic class AnimEventListener : MonoBehaviour\n{\n\tvoid Start() { }\n\tvoid SampleAnimEvent()\n\t{\n\t\tDebug.Log(\"Sample Anim Event\");\n\t}\n}\n";
    navigator.clipboard.writeText(textToCopy).then(() => {
        alert("The script has been copied to the clipboard.");
    }).catch(err => {
        console.error("Clipboard copy failed:", err);
    });
    });
    </script>
    
    <script>
    document.getElementById("scriptcopybutton1").addEventListener("click", function() {
    const textToCopy = "using UnityEngine;\npublic class AnimEventListener : MonoBehaviour\n{\n\tvoid Start() { }\n\tvoid SampleAnimEvent(float floatValue)\n\t{\n\t\tDebug.Log(\"Sample Anim Event - \" + floatValue);\n\t}\n}\n";
    navigator.clipboard.writeText(textToCopy).then(() => {
        alert("The script has been copied to the clipboard.");
    }).catch(err => {
        console.error("Clipboard copy failed:", err);
    });
    });
    </script>
    
    <script>
    document.getElementById("scriptcopybutton2").addEventListener("click", function() {
    const textToCopy = "using UnityEngine;\npublic class AnimEventListener : MonoBehaviour\n{\n\tvoid Start() { }\n\tvoid MultipleParamAnimEvent(object[] multipleParams)\n\t{\n\t\tint intParam = (int)multipleParams[0];\n\t\tfloat floatParam = (float)multipleParams[1];\n\t\tVector2 vector2Param = (Vector2)multipleParams[2];\n\t\tDebug.Log(\"Multiple Param Anim Event\");\n\t\tDebug.Log(\"Param 1 : \" + intParam);\n\t\tDebug.Log(\"Param 2 : \" + floatParam);\n\t\tDebug.Log(\"Param 3 : \" + vector2Param);\n\t}\n}\n";
    navigator.clipboard.writeText(textToCopy).then(() => {
        alert("The script has been copied to the clipboard.");
    }).catch(err => {
        console.error("Clipboard copy failed:", err);
    });
    });
    </script>
    
    <script>
    document.getElementById("scriptcopybutton3").addEventListener("click", function() {
    const textToCopy = "private void OnAnimEvent_A () { Debug.Log(\"Event A\"); }\n\nprivate void OnAnimEvent_A ( float floatValue ) { Debug.Log(\"Event A (Overloaded)\"); }\n";
    navigator.clipboard.writeText(textToCopy).then(() => {
        alert("The script has been copied to the clipboard.");
    }).catch(err => {
        console.error("Clipboard copy failed:", err);
    });
    });
    </script>
    

    <!--------------->

    </body>
</html>

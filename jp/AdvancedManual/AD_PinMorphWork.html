<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <!-- 제목 -->
        <title>「Morph」モディファイヤでの「ピン」の使用</title>
        <!-- 파비콘 -->
        <link rel="shortcut icon" href="../../Images/favicon.ico"/>
        <!-- 부트스트랩 -->
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <!--------------->

    </head>

    <body>
        <p>
            <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <!--로고 : AnyPortrait 홈페이지로 가야한다. (언어별)-->
            <a class="navbar-brand" href="https://www.rainyrizzle.com/anyportrait-jp">
                <img src="../../Images/AP_Logo.png" width="150" height="30" class="d-inline-block align-top" alt="">
            </a>

            <!--메뉴들 : 현재 페이지의 카테고리에 active 붙인다. (언어별 링크) -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarText">
                <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="../../jp/GettingStarted.html">入門ガイド</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../jp/AdManual.html">マニュアル</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../../jp/Script.html">スクリプト</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://www.rainyrizzle.com/ap-videotutorial-jp">ビデオ</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://www.rainyrizzle.com/ap-forum">フォーラム</a>
                </li>

                </ul>

                <!-- 언어 변경. 현재 페이지의 주소에서 언어 주소만 변경한다. (해당 언어에 active) -->
                <div class="btn-group mr-2" role="group" aria-label="Basic example">
                    <a role="button" class="btn btn-secondary" href="../../en/AdvancedManual/AD_PinMorphWork.html">EN</a>
                    <a role="button" class="btn btn-secondary" href="../../kr/AdvancedManual/AD_PinMorphWork.html">KR</a>
                    <a role="button" class="btn btn-secondary active" href="../../jp/AdvancedManual/AD_PinMorphWork.html">JP</a>
                </div>

                <!-- 여백 -->
                <p></p>

                <!-- 검색버튼 -->
                <form class="form-inline">
                    <a class="btn btn-light" role="button" href="../../jp/Search.html">サーチ</a>
                </form>
            </div>
        </nav>
    </p>

    <!-- 실제 바디 부분 -->
    <div class="container">
    <br>
    <br>
    <!-- 여기에 내용을 적어주세요 -->

    <!-- 여기서부터 페이지 내용이 작성됩니다. -->
    <!-- 1. 페이지 진입 경로 -->
    <p><a href="https://www.rainyrizzle.com/anyportrait-jp"><span class="text-dark">AnyPortrait</span></a> > <a href="../../jp/AdManual.html"><span class="text-dark">マニュアル</span></a> > 「Morph」モディファイヤでの「ピン」の使用</p>
    
    <!-- 2. 페이지 메인 타이틀 -->
    <h1 class="display-5">「Morph」モディファイヤでの「ピン」の使用</h1>
    <br>
    
    <!-- 4. 버전 설명 -->
    <h4><span class="badge badge-secondary">1.4.0</span></h4>
    
    <p>
    「AnyPortrait v1.4.0」に追加された「ピン（Pin）」ツールを使用すると、頂点モーフィング操作をはるかに効率的にすることができます。<br>
    このページでは、「Morphモディファイア」で「ピン」を利用する過程について説明します。<br>
    メッシュにピンを追加する方法については、以下のマニュアルを参照してください。<br>
    - <a href="../../jp/AdvancedManual/AD_AddPin.html">ピンの追加</a><br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1726.jpg"/>
    <br>
    
    <p>
    説明のためにかわいいキャラクターを用意してみました。<br>
    このキャラクターの頬をそっと引っ張る姿をピンを利用して作ってみましょう。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1727.jpg"/>
    <br>
    
    <p>
    「Morph モディファイア」でピンを動かすには、メッシュにピンが追加されている必要があります。<br>
    <strong>(1)</strong> 「メッシュ」を選択します。<br>
    <strong>(2)</strong> 「<strong>Pin</strong>」メニューを選択します。<br>
    <strong>(3)</strong> 「ピン」を画像に合わせて追加して接続します。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1728.jpg"/>
    <br>
    
    <p>
    同様に、頂点モーフィングの対象となるメッシュにピンを追加します。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1729.jpg"/>
    <br>
    
    <p>
    モディファイアを制御するために、上記のように制御パラメータを生成しました。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1730.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> 「メッシュグループ」を選択します。<br>
    <strong>(2)</strong> 「<strong>Modifier</strong>」タブの「<strong>Add Modifier</strong>」ボタンを押します。<br>
    <strong>(3)</strong> 「<strong>Morph (Controller)</strong> 」モディファイアを選択し、 <strong>(4)</strong> 「<strong>Select</strong>」ボタンを押します。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1731.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> 追加した「<strong>Morphモディファイア</strong>」を選択します。<br>
    <strong>(2)</strong> メッシュを選択します。<br>
    <strong>(3)</strong> 画面左の「<strong>Controller</strong>」タブで、「制御パラメータUI」のキーを追加するボタンを押します。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1732.jpg"/>
    <br>
    
    <p>
    「編集モード」をオンにしてメッシュを選択しても、デフォルトではピンは表示されません。<br>
    <strong>(1)</strong> 編集対象を頂点ではなく「ピン」に変更します。 （ショートカット： <kbd>Alt+T</kbd> ）<br>
    <strong>(2)</strong> 選択したメッシュのピンがワークスペースに表示されます。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1733.jpg"/>
    <br>
    
    <p>
    制御パラメータによってキャラクターの頬が引かれるようにしましょう。<br>
    <strong>(1)</strong> 制御パラメータ UI のスライダを動かして新しいキーを作成します。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1734.jpg"/>
    <br>
    
    <p>
    ピンを動かして上記のように形を変えることができます。<br>
    メッシュには多くの頂点がありますが、少数のピンを利用することで作業時間を大幅に短縮できます。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1735.jpg"/>
    <br>
    
    <p>
    頂点編集と同様に、「<strong>FFD、Soft Selection、Blur</strong>」ツールを使用してピンを編集することもできます。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1736.jpg"/>
    <br>
    
    <p>
    また、複数のメッシュのピンを同時に編集することも可能です。<br>
    <strong>(1)</strong> 他のメッシュを選択し、 <strong>(2)</strong> モディファイアに登録します。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1737.jpg"/>
    <br>
    
    <p>
    2つのメッシュのピンを同時に編集すると、作業をより効率的にすることができます。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1738.jpg"/>
    <br>
    
    <p>
    もちろん、この状態で頂点を使って細かく編集できます。<br>
    ピンを使っておおよその形を作り、頂点を使って仕上げるのが良い方法でしょう。<br>
    <strong>(1)</strong> 編集対象を「頂点」に変更します。<br>
    <strong>(2)</strong> 頂点を選択して移動してメッシュの形状を変形します。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1740.jpg"/>
    <br>
    
    <p>
    アニメーション用モディファイアでもピンを利用できます。<br>
    <strong>(1)</strong> 「<strong>Add Modifier</strong>」ボタンを押し、 <strong>(2)</strong> 「<strong>Morph（Animation）</strong>」モディファイアを追加します。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1741.jpg"/>
    <br>
    
    <p>
    <strong>(1)</strong> 新しいアニメーションを追加します。<br>
    <strong>(2)</strong> 追加した「<strong>Morph（Animation）</strong>」モディファイアをタイムラインとして登録します。<br>
    <strong>(3)</strong> メッシュをタイムラインレイヤーとして登録します。<br>
    <strong>(4)</strong> 「編集モード」をオンにしてキーフレームを追加します。<br>
    <strong>(5)</strong> 編集対象を「ピン」に切り替えます。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1742.jpg"/>
    <br>
    
    <p>
    上記と同じようにアニメーションでもピンを使ってメッシュを編集してみてください！<br>
    </p>
    <br>
    
    <br>
    <br>
    <!-- 3. 서브 타이틀 -->
    <h3>Morphモディファイアでピンが動作する方法</h3>
    <br>
    
    <p>
    さて、ピンはまるでボーンを使った「リギング（Rigging）」と同じように動作するようです。<br>
    しかし、<span class="text-primary"><strong>ボーン</strong></span>が<span class="text-primary"><strong>Transformモディファイア</strong></span>によって編集されるのに対し、<span class="text-danger"><strong>ピン</strong></span>は<span class="text-danger"><strong>Morphモディファイア</strong></span>の対象となる点で何らかの違いがあることを 予想できます。<br>
    </p>
    <br>
    
    <p>
    実際、ピンによる頂点の動きを計算することは、一般的な頂点モーフィングやリギングに比べてはるかに複雑です。<br>
    したがって、この便利な機能をゲーム中に高いパフォーマンスで使用するためには、リギングとは異なる方法でデータを保存して活用する必要がありました。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1743.jpg"/>
    <br>
    
    <p>
    ピンデータが<strong>Bake</strong>の過程でどのように変化するかについての図である。<br>
    「<span class="text-danger">エディタでのMorphモディファイア</span>」は、「頂点」と「ピン」の両方のデータを取り、メッシュの形状を計算します。<br>
    ただし、<strong>Bake</strong>を行うと、ピンデータは頂点データにまとめられます。<br>
    このような演算を通じて、「<span class="text-primary">ゲームでのMorphモディファイア</span>」では複雑なピン演算はせず、ただ「頂点」演算だけ素早く実行して高い性能を維持できるのです。<br>
    </p>
    <br>
    
    <p>
    「ピンによる頂点の動き」をあらかじめ計算して「Bake」することは最適化に役立ちますが、これにより「補間演算」に変化が生じることになります。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1749.jpg"/>
    <br>
    
    <p>
    2つのキーのピンの動きはすぐに補間されません。<br>
    Bakeをするとピンは存在しないため、補間演算の対象にならないからです。<br>
    まず、各キーのピンによる頂点の位置を最初に計算します。<br>
    そして、変換された頂点位置データ間の補間が計算されます。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1744.jpg"/>
    <br>
    
    <p>
    異なる方法で同じ形のメッシュが同様に動くようにして、その違いを比較しましょう。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1745.jpg"/>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1746.jpg"/>
    <br>
    
    <p>
    左のメッシュには、ピンとMorphモディファイアを使用して動くテクニックを適用しました。<br>
    一方、右メッシュにはボーンと Transform/Rigging モディファイアを用いて動く技法を適用しました。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1747.jpg"/>
    <br>
    
    <p>
    さまざまな手法で作成しましたが、制御パラメータの2つのキーの各メッシュの外観はほぼ同じようです。<br>
    </p>
    <br>
    
    <!-- 8. 이미지 (가운데 정렬) -->
    <br>
    <img class="img-fluid rounded-sm mx-auto d-block" style="max-width:80%;" src="../../Images/Advanced/AdManual_1748.jpg"/>
    <br>
    
    <p>
    しかし、制御パラメータを動かしてみると大きな違いを確認できます。<br>
    ボーンによって動く右側のメッシュは、適切に回転して動くのを見ることができます。<br>
    ピンで動く左のメッシュは、移動中に非常に奇妙な形をしていることがわかります。<br>
    </p>
    <br>
    
    <p>
    「ボーンの回転」のような情報がなく、「直線補間」しかしないため、上記のような結果が現れるのです。<br>
    ピンとボーンは似ているように見えても結果に大きな違いがあるため、使用目的に応じて異なる方法で使用する必要があります。<br>
    したがって、頂点モーフィングの補助ツールとしてピンを利用することが最も推奨されます。<br>
    </p>
    <br>
    
    <!-- 12. 참고 박스 시작 -->
    <div class="alert alert-info" role="alert">
    
    <!-- 3. 서브 타이틀(참고 박스) -->
    <h4>他のモディファイアをオンにして作業することはできません！</h4>
    <br>
    
    <p>
    「ピンツール」は頂点とは異なり、「Riggingモディファイア」の影響を受けません。<br>
    内部テストの結果、「ピン」編集状態で「Transformモディファイア」をオンにした状態でユーザーが作業をすると混乱を感じるという意見がありました。<br>
    したがってピン編集状態では例外的に編集モードで他のモディファイアを動作するオプション（<a href="../../jp/AdvancedManual/AD_ModifierEditOption.html">関連ページ</a>）がオフになるように実装をした状態です。<br>
    この部分に関してフィードバックをいただき、ユーザビリティの改善にご参考いたします。<br>
    </p>
    <br>
    
    </div>
    <br>
    <br>
    
    <!-- 5. 바닥 네비바 -->
    <br>
    <br>
    <br>
    <br>
    <nav class="navbar fixed-bottom navbar-light bg-light">
        <a class="btn btn-light" role="button" href="../../jp/AdvancedManual/AD_RotationTransformModifier.html">< 「Transform」モディファイヤでの回転</a>
        <a class="btn btn-light" role="button" href="../../jp/AdvancedManual/AD_ExportImportAnimation.html">アニメーションをエクスポート/インポート ></a>
    </nav>
    
    <!-- 페이지 내용 끝! -->

    
    <!-- 종료 -->
    </div>

    <!-- 부트스트랩 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="../../js/bootstrap.js"></script>
    <!--------------->

    <!-- 클립보드 스크립트 -->
<!-- NO SCRIPT -->
    <!--------------->

    </body>
</html>
